<!doctype html>
<html>
	<head>
		<title></title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<link href="" rel="stylesheet" />
		<style>
		* { margin: 0; padding: 0; }
		body { position: relative; }
		span { color: blue; }
		</style>
	</head>
	<body>

	<span>This is a span in the page. It should not be the same colour as the spans in the component</span>
	<expn-score-dial value="354" band="Good"></expn-score-dial>
	<button class="js-score-update" data-operation="increase" type="button">Increase</button>
	<button class="js-score-update" data-operation="decrease" type="button">Decrease</button>
	
	<expn-modal></expn-modal>
	<button class="js-modal-control" data-operation="open" type="button">Open modal</button>
	<button class="js-modal-control" data-operation="close" type="button">Close modal</button>
	
	<script src="score-dial/index.js"></script>
	<script src="modal/index.js"></script>
	
	<script>
		const updateValue = trigger => {
			const element = document.querySelector('expn-score-dial');
			const operation = trigger.dataset.operation;

			const newValue = operation === 'increase'
				? parseInt(element.getAttribute('value'), 10) + 1
				: parseInt(element.getAttribute('value'), 10) - 1;
				
			element.setAttribute('value', newValue);
		};
		
		Array.from(document.querySelectorAll('.js-score-update')).forEach(trigger => {
			trigger.addEventListener('click', e => {
				e.preventDefault ? e.preventDefault() : (e.returnValue = false);
				updateValue(trigger);
			})
		});
		
		Array.from(document.querySelectorAll('.js-modal-control')).forEach(trigger => {
			trigger.addEventListener('click', e => {
				e.preventDefault ? e.preventDefault() : (e.returnValue = false);
				const modal = document.querySelector('expn-modal');
				const state = trigger.dataset.operation;
				modal.setAttribute('state', state);
			});
		});

	</script>

	</body>
</html>
